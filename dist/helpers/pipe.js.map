{"version":3,"file":"pipe.js","sources":["../../src/helpers/pipe.ts"],"sourcesContent":["import { helper } from '@ember/component/helper';\nimport isPromise from '../utils/is-promise.ts';\n\nexport function invokeFunction<T>(acc: T, curr: (...args: unknown[]) => void) {\n  if (isPromise(acc)) {\n    return acc.then(curr);\n  }\n\n  return curr(acc);\n}\n\nexport function pipe(actions: [...((...args1: unknown[]) => unknown)[]] = []) {\n  return function (...args: [...unknown[]]) {\n    // eslint-disable-next-line @typescript-eslint/no-redundant-type-constituents\n    return actions.reduce<unknown | Promise<unknown>>((acc, curr, idx) => {\n      if (idx === 0) {\n        return curr(...args);\n      }\n\n      return invokeFunction(acc, curr);\n    }, undefined);\n  };\n}\n\nexport default helper(pipe as (actions: unknown[]) => unknown);\n"],"names":["invokeFunction","acc","curr","isPromise","then","pipe","actions","args","reduce","idx","undefined","helper"],"mappings":";;;AAGO,SAASA,cAAcA,CAAIC,GAAM,EAAEC,IAAkC,EAAE;AAC5E,EAAA,IAAIC,SAAS,CAACF,GAAG,CAAC,EAAE;AAClB,IAAA,OAAOA,GAAG,CAACG,IAAI,CAACF,IAAI,CAAC;AACvB;EAEA,OAAOA,IAAI,CAACD,GAAG,CAAC;AAClB;AAEO,SAASI,IAAIA,CAACC,OAAkD,GAAG,EAAE,EAAE;EAC5E,OAAO,UAAU,GAAGC,IAAoB,EAAE;AACxC;IACA,OAAOD,OAAO,CAACE,MAAM,CAA6B,CAACP,GAAG,EAAEC,IAAI,EAAEO,GAAG,KAAK;MACpE,IAAIA,GAAG,KAAK,CAAC,EAAE;AACb,QAAA,OAAOP,IAAI,CAAC,GAAGK,IAAI,CAAC;AACtB;AAEA,MAAA,OAAOP,cAAc,CAACC,GAAG,EAAEC,IAAI,CAAC;KACjC,EAAEQ,SAAS,CAAC;GACd;AACH;AAEA,aAAeC,MAAM,CAACN,IAAuC,CAAC;;;;"}