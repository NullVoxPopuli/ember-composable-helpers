{"version":3,"file":"toggle.js","sources":["../../src/helpers/toggle.ts"],"sourcesContent":["import { helper } from '@ember/component/helper';\nimport { get } from '@ember/object';\nimport { set } from '@ember/object';\nimport { isPresent } from '@ember/utils';\n\nfunction nextIndex(length: number, currentIdx: number) {\n  if (currentIdx === -1 || currentIdx + 1 === length) {\n    return 0;\n  }\n\n  return currentIdx + 1;\n}\n\nexport function toggle<T>([prop, obj, ...values]: [\n  keyof T,\n  T,\n  ...T[keyof T][],\n]) {\n  return function () {\n    const currentValue = get(obj as object, prop as string);\n\n    if (isPresent(values)) {\n      const currentIdx = values.indexOf(currentValue as T[keyof T]);\n      const nextIdx = nextIndex(values.length, currentIdx);\n\n      return set(obj as object, prop as string, values[nextIdx]!);\n    }\n\n    return set(obj as object, prop as string, !currentValue);\n  };\n}\n\nexport default helper(toggle);\n"],"names":["nextIndex","length","currentIdx","toggle","prop","obj","values","currentValue","get","isPresent","indexOf","nextIdx","set","helper"],"mappings":";;;;AAKA,SAASA,SAASA,CAACC,MAAc,EAAEC,UAAkB,EAAE;EACrD,IAAIA,UAAU,KAAK,EAAE,IAAIA,UAAU,GAAG,CAAC,KAAKD,MAAM,EAAE;AAClD,IAAA,OAAO,CAAC;AACV;EAEA,OAAOC,UAAU,GAAG,CAAC;AACvB;AAEO,SAASC,MAAMA,CAAI,CAACC,IAAI,EAAEC,GAAG,EAAE,GAAGC,MAAM,CAI9C,EAAE;AACD,EAAA,OAAO,YAAY;AACjB,IAAA,MAAMC,YAAY,GAAGC,GAAG,CAACH,GAAG,EAAYD,IAAc,CAAC;AAEvD,IAAA,IAAIK,SAAS,CAACH,MAAM,CAAC,EAAE;AACrB,MAAA,MAAMJ,UAAU,GAAGI,MAAM,CAACI,OAAO,CAACH,YAA0B,CAAC;MAC7D,MAAMI,OAAO,GAAGX,SAAS,CAACM,MAAM,CAACL,MAAM,EAAEC,UAAU,CAAC;MAEpD,OAAOU,GAAG,CAACP,GAAG,EAAYD,IAAI,EAAYE,MAAM,CAACK,OAAO,CAAE,CAAC;AAC7D;IAEA,OAAOC,GAAG,CAACP,GAAG,EAAYD,IAAI,EAAY,CAACG,YAAY,CAAC;GACzD;AACH;AAEA,eAAeM,MAAM,CAACV,MAAM,CAAC;;;;"}